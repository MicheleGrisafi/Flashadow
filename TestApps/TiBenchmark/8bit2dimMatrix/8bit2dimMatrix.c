/*******************************************************************************
**
Name : 8-bit 2-dim Matrix
* Purpose : Benchmark copying 8-bit values.
*
*******************************************************************************/
#include <msp430.h>

typedef unsigned char UInt8;
const UInt8 m1[16][4] = {
    { 0x12, 0x56, 0x90, 0x34 }, { 0x78, 0x12, 0x56, 0x90 }, { 0x34, 0x78, 0x12, 0x56 }, { 0x90, 0x34, 0x78, 0x12 }, { 0x12, 0x56, 0x90, 0x34 }, { 0x78, 0x12, 0x56, 0x90 }, { 0x34, 0x78, 0x12, 0x56 }, { 0x90, 0x34, 0x78, 0x12 }, { 0x12, 0x56, 0x90, 0x34 }, { 0x78, 0x12, 0x56, 0x90 }, { 0x34, 0x78, 0x12, 0x56 }, { 0x90, 0x34, 0x78, 0x12 }, { 0x12, 0x56, 0x90, 0x34 }, { 0x78, 0x12, 0x56, 0x90 }, { 0x34, 0x78, 0x12, 0x56 }, { 0x90, 0x34, 0x78, 0x12 }
};
void main(void) {
    WDTCTL = WDTPW | WDTHOLD;   // stop watchdog timer
    P4OUT &= 0x00;
    P4DIR |= BIT2; //Set up also analyser


    P4OUT |= BIT2; //Start logical analyser
    int i, j;
    volatile UInt8 m2[16][4], m3[16][4];
    for (i = 0; i < 16; i++) {
        for (j = 0; j < 4; j++) {
            m2[i][j] = m1[i][j];
            m3[i][j] = m2[i][j];
        }
    }
    P4OUT &= (~BIT2); //Stop analyser
    while(1);
    return;
}